<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quản lý sản phẩm</title>
    <style>
        .btn {
            background-color: #4aa41e;
            border-radius: 5px;
            color: white;
            width: 60px;
            height: 25px;
        }
        table {
            width: 500px;
        }
        td {
            width: 33.33333%;
            text-align: center;
        }
    </style>
</head>
<body>

<h4>Add New Product</h4>
<p><label for="newProduct"></label><input type="text" id="newProduct" placeholder="New Product">
    <button class="btn" type="button" onclick="addProduct(productArr)">Add</button>
</p>

<h2>Display All Product</h2>
<p id="listProduct"><br></p>

<script>

    let productArr = ["Sony", "Samsung", "Xiaomi", "Apple", "Fujitsu", "Oppo"];
    let listProduct = document.getElementById("listProduct");

    function displayProduct(productArr) {
        let str = "<table> " +
            "<tr>" +
            "<th>STT</th>" +
            "<th>Sản phẩm</th>" +
            "<th>" + productArr.length + " sản phẩm</th>" +
            "</tr>";
        for (let i = 0; i < productArr.length; i++) {
            str += "<tr>";
            str += "<td>" + (i + 1) + "</td>" +
                "<td>" + productArr[i] + "</td>"
                + "<td>  <button class='btn' type='button' onclick=" + "editProduct(" + i + ")>Edit</button>" +
                "<button class='btn' type='button' onclick=" + "deleteProduct(" + i + ")>Delete</button></td>";
            str += "</tr>";
        }
        str += "</table>";
        listProduct.innerHTML = str;
    }

    function addProduct(productArr) {
        let newProduct = document.getElementById("newProduct").value;
        productArr.push(newProduct);
        displayProduct(productArr);
        alert("OK");
        document.getElementById("newProduct").value = "";
    }

    function editProduct(i) {
        productArr[i] = prompt("Sửa thành: ");
        alert("Sửa thành công");
        displayProduct(productArr);
    }

    function deleteProduct(i) {
        let choose = confirm("Bạn muốn xóa " + productArr[i] + " ?");
        if (choose) {
            productArr.splice(i,1);
            alert("Xóa thành công");
            displayProduct(productArr);
        } else {
            alert("Không xóa nữa");
        }
    }
    displayProduct(productArr);
</script>
</body>
</html>